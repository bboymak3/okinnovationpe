<!-- menu.html -->
<nav class="main-nav">
    <div class="nav-container">
        <!-- Logo -->
        <a href="/" class="logo">
            <div style="width: 40px; height: 40px; background: #007bff; border-radius: 5px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 10px;">OI</div>
            <div>
                <div class="logo-text">OKINNOVATIONPE</div>
                <div class="logo-subtext">AUTOPARTES 4x4</div>
            </div>
        </a>
        
        <!-- Men√∫ Desktop -->
        <div class="desktop-menu">
            <a href="/" class="nav-link">Inicio</a>
            
            <!-- CATEGOR√çA: Productos -->
            <div class="dropdown">
                <a href="/productos/" class="nav-link dropdown-toggle">
                    Productos <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/productos/kit-de-levante/" class="dropdown-item">Kit de Levante</a>
                    <a href="/productos/bumpers-y-parachoques/" class="dropdown-item">Bumpers y Parachoques</a>
                    <a href="/productos/rack-de-techo/" class="dropdown-item">Rack de Techo</a>
                    <a href="/productos/pisaderas-y-estribos/" class="dropdown-item">Pisaderas y Estribos</a>
                    <a href="/productos/proteccion-de-bajos/" class="dropdown-item">Protecci√≥n de Bajos</a>
                </div>
            </div>
            
            <!-- CATEGOR√çA: Servicios -->
            <div class="dropdown">
                <a href="/servicios/" class="nav-link dropdown-toggle">
                    Servicios <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/servicios/suspension-4x4/" class="dropdown-item">Suspensi√≥n 4x4</a>
                    <a href="/servicios/fabricacion-de-piezas/" class="dropdown-item">Fabricaci√≥n de Piezas</a>
                    <a href="/servicios/proteccion-de-bajos/" class="dropdown-item">Protecci√≥n de Bajos</a>
                    <a href="/servicios/accesorios-off-road/" class="dropdown-item">Accesorios Off-Road</a>
                    <a href="/servicios/seguridad/" class="dropdown-item">Seguridad</a>
                </div>
            </div>
            
            <!-- CATEGOR√çA: Todos los productos -->
            <a href="/todos-los-productos/" class="nav-link">Todos los Productos</a>
            
            <!-- CATEGOR√çA: Comprar por veh√≠culo -->
            <div class="dropdown">
                <a href="/comprar-por-vehiculo/" class="nav-link dropdown-toggle">
                    Comprar por Veh√≠culo <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/comprar-por-vehiculo/wrangler/" class="dropdown-item">Wrangler</a>
                    <a href="/comprar-por-vehiculo/gladiator/" class="dropdown-item">Gladiator</a>
                    <a href="/comprar-por-vehiculo/xj-mj-cherokee-comanche/" class="dropdown-item">XJ/MJ (Cherokee/Comanche)</a>
                    <a href="/comprar-por-vehiculo/bronco/" class="dropdown-item">Bronco</a>
                    <a href="/comprar-por-vehiculo/ranger/" class="dropdown-item">Ranger</a>
                    <a href="/comprar-por-vehiculo/maverick/" class="dropdown-item">Maverick</a>
                    <a href="/comprar-por-vehiculo/otros-modelos/" class="dropdown-item">Otros modelos (Toyota, Chevy, etc.)</a>
                </div>
            </div>
            
            <!-- CATEGOR√çA: Otros productos -->
            <div class="dropdown">
                <a href="/otros-productos/" class="nav-link dropdown-toggle">
                    Otros Productos <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/otros-productos/soporte-universal-cerradura/" class="dropdown-item">Soporte Universal con Cerradura</a>
                    <a href="/otros-productos/panel-plataforma-portaequipajes/" class="dropdown-item">Panel de Plataforma para Portaequipajes</a>
                    <a href="/otros-productos/sistema-cajones-deslizantes/" class="dropdown-item">Sistema Modular de Cajones Deslizantes</a>
                    <a href="/otros-productos/portaequipajes-cama-alta-resistencia/" class="dropdown-item">Portaequipajes de Cama Alta Resistencia</a>
                    <a href="/otros-productos/parachoques-trasero/" class="dropdown-item">Parachoques Trasero</a>
                    <a href="/otros-productos/paneles-molle/" class="dropdown-item">Paneles MOLLE</a>
                    <a href="/otros-productos/kits-luces-led/" class="dropdown-item">Kits de Luces LED para Techo</a>
                    <a href="/otros-productos/soportes-accesorios/" class="dropdown-item">Soportes para Accesorios</a>
                    <a href="/otros-productos/soportes-toldos/" class="dropdown-item">Soportes para Toldos</a>
                </div>
            </div>
            
            <!-- CATEGOR√çA: Soporte -->
            <div class="dropdown">
                <a href="/soporte/" class="nav-link dropdown-toggle">
                    Soporte <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/soporte/contactanos/" class="dropdown-item">Cont√°ctanos</a>
                    <a href="/soporte/instrucciones-instalacion/" class="dropdown-item">Instrucciones de Instalaci√≥n</a>
                    <a href="/soporte/informacion-garantia/" class="dropdown-item">Informaci√≥n de Garant√≠a</a>
                    <a href="/soporte/devoluciones-cambios/" class="dropdown-item">Devoluciones y Cambios</a>
                    <a href="/soporte/preguntas-frecuentes/" class="dropdown-item">Preguntas Frecuentes</a>
                </div>
            </div>
            
            <!-- CATEGOR√çA: Manufactura Lean -->
            <div class="dropdown">
                <a href="/manufactura-lean/" class="nav-link dropdown-toggle">
                    Manufactura Lean <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/manufactura-lean/sistema-lean/" class="dropdown-item">Explicaci√≥n del Sistema Lean</a>
                    <a href="/manufactura-lean/recursos-educativos/" class="dropdown-item">Recursos Educativos</a>
                    <a href="/manufactura-lean/filosofia-produccion/" class="dropdown-item">Filosof√≠a de Producci√≥n</a>
                </div>
            </div>
            
            <!-- CATEGOR√çA: Cuenta y carrito -->
            <div class="dropdown">
                <a href="/cuenta/" class="nav-link dropdown-toggle">
                    Mi Cuenta <span style="margin-left: 5px;">‚ñº</span>
                </a>
                <div class="dropdown-menu">
                    <a href="/cuenta/iniciar-sesion/" class="dropdown-item">Iniciar Sesi√≥n</a>
                    <a href="/cuenta/registrarse/" class="dropdown-item">Registrarse</a>
                    <a href="/carrito/" class="dropdown-item">Ver Carrito</a>
                    <a href="/cuenta/seguimiento-pedidos/" class="dropdown-item">Seguimiento de Pedidos</a>
                </div>
            </div>
            
            <!-- WhatsApp -->
            <a href="https://wa.me/584167775771" class="whatsapp-btn">
                <span>üì±</span> WhatsApp
            </a>
        </div>
        
        <!-- Bot√≥n Hamburguesa -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</nav>

<!-- Men√∫ M√≥vil -->
<div class="mobile-menu" id="mobileMenu">
    <a href="/" class="mobile-nav-link">Inicio</a>
    
    <!-- CATEGOR√çA M√ìVIL: Productos -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="productos-mobile">
            Productos <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="productos-mobile">
            <a href="/productos/kit-de-levante/" class="mobile-dropdown-item">Kit de Levante</a>
            <a href="/productos/bumpers-y-parachoques/" class="mobile-dropdown-item">Bumpers y Parachoques</a>
            <a href="/productos/rack-de-techo/" class="mobile-dropdown-item">Rack de Techo</a>
            <a href="/productos/pisaderas-y-estribos/" class="mobile-dropdown-item">Pisaderas y Estribos</a>
            <a href="/productos/proteccion-de-bajos/" class="mobile-dropdown-item">Protecci√≥n de Bajos</a>
        </div>
    </div>
    
    <!-- CATEGOR√çA M√ìVIL: Servicios -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="servicios-mobile">
            Servicios <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="servicios-mobile">
            <a href="/servicios/suspension-4x4/" class="mobile-dropdown-item">Suspensi√≥n 4x4</a>
            <a href="/servicios/fabricacion-de-piezas/" class="mobile-dropdown-item">Fabricaci√≥n de Piezas</a>
            <a href="/servicios/proteccion-de-bajos/" class="mobile-dropdown-item">Protecci√≥n de Bajos</a>
            <a href="/servicios/accesorios-off-road/" class="mobile-dropdown-item">Accesorios Off-Road</a>
            <a href="/servicios/seguridad/" class="mobile-dropdown-item">Seguridad</a>
        </div>
    </div>
    
    <!-- CATEGOR√çA M√ìVIL: Todos los productos -->
    <a href="/todos-los-productos/" class="mobile-nav-link">Todos los Productos</a>
    
    <!-- CATEGOR√çA M√ìVIL: Comprar por veh√≠culo -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="comprar-vehiculo-mobile">
            Comprar por Veh√≠culo <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="comprar-vehiculo-mobile">
            <a href="/comprar-por-vehiculo/wrangler/" class="mobile-dropdown-item">Wrangler</a>
            <a href="/comprar-por-vehiculo/gladiator/" class="mobile-dropdown-item">Gladiator</a>
            <a href="/comprar-por-vehiculo/xj-mj-cherokee-comanche/" class="mobile-dropdown-item">XJ/MJ (Cherokee/Comanche)</a>
            <a href="/comprar-por-vehiculo/bronco/" class="mobile-dropdown-item">Bronco</a>
            <a href="/comprar-por-vehiculo/ranger/" class="mobile-dropdown-item">Ranger</a>
            <a href="/comprar-por-vehiculo/maverick/" class="mobile-dropdown-item">Maverick</a>
            <a href="/comprar-por-vehiculo/otros-modelos/" class="mobile-dropdown-item">Otros modelos</a>
        </div>
    </div>
    
    <!-- CATEGOR√çA M√ìVIL: Otros productos -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="otros-productos-mobile">
            Otros Productos <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="otros-productos-mobile">
            <a href="/otros-productos/soporte-universal-cerradura/" class="mobile-dropdown-item">Soporte Universal con Cerradura</a>
            <a href="/otros-productos/panel-plataforma-portaequipajes/" class="mobile-dropdown-item">Panel de Plataforma para Portaequipajes</a>
            <a href="/otros-productos/sistema-cajones-deslizantes/" class="mobile-dropdown-item">Sistema Modular de Cajones</a>
            <a href="/otros-productos/portaequipajes-cama-alta-resistencia/" class="mobile-dropdown-item">Portaequipajes de Cama</a>
            <a href="/otros-productos/parachoques-trasero/" class="mobile-dropdown-item">Parachoques Trasero</a>
            <a href="/otros-productos/paneles-molle/" class="mobile-dropdown-item">Paneles MOLLE</a>
            <a href="/otros-productos/kits-luces-led/" class="mobile-dropdown-item">Kits de Luces LED</a>
            <a href="/otros-productos/soportes-accesorios/" class="mobile-dropdown-item">Soportes para Accesorios</a>
            <a href="/otros-productos/soportes-toldos/" class="mobile-dropdown-item">Soportes para Toldos</a>
        </div>
    </div>
    
    <!-- CATEGOR√çA M√ìVIL: Soporte -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="soporte-mobile">
            Soporte <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="soporte-mobile">
            <a href="/soporte/contactanos/" class="mobile-dropdown-item">Cont√°ctanos</a>
            <a href="/soporte/instrucciones-instalacion/" class="mobile-dropdown-item">Instrucciones de Instalaci√≥n</a>
            <a href="/soporte/informacion-garantia/" class="mobile-dropdown-item">Informaci√≥n de Garant√≠a</a>
            <a href="/soporte/devoluciones-cambios/" class="mobile-dropdown-item">Devoluciones y Cambios</a>
            <a href="/soporte/preguntas-frecuentes/" class="mobile-dropdown-item">Preguntas Frecuentes</a>
        </div>
    </div>
    
    <!-- CATEGOR√çA M√ìVIL: Manufactura Lean -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="manufactura-lean-mobile">
            Manufactura Lean <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="manufactura-lean-mobile">
            <a href="/manufactura-lean/sistema-lean/" class="mobile-dropdown-item">Sistema Lean</a>
            <a href="/manufactura-lean/recursos-educativos/" class="mobile-dropdown-item">Recursos Educativos</a>
            <a href="/manufactura-lean/filosofia-produccion/" class="mobile-dropdown-item">Filosof√≠a de Producci√≥n</a>
        </div>
    </div>
    
    <!-- CATEGOR√çA M√ìVIL: Cuenta y carrito -->
    <div class="mobile-dropdown">
        <div class="mobile-dropdown-toggle" data-target="cuenta-mobile">
            Mi Cuenta <span>‚ñº</span>
        </div>
        <div class="mobile-dropdown-menu" id="cuenta-mobile">
            <a href="/cuenta/iniciar-sesion/" class="mobile-dropdown-item">Iniciar Sesi√≥n</a>
            <a href="/cuenta/registrarse/" class="mobile-dropdown-item">Registrarse</a>
            <a href="/carrito/" class="mobile-dropdown-item">Ver Carrito</a>
            <a href="/cuenta/seguimiento-pedidos/" class="mobile-dropdown-item">Seguimiento de Pedidos</a>
        </div>
    </div>
    
    <!-- WhatsApp M√≥vil -->
    <div class="mobile-whatsapp">
        <a href="https://wa.me/584167775771" class="whatsapp-btn">
            <span>üì±</span> WhatsApp
        </a>
    </div>
</div>

<!-- Overlay para cerrar men√∫ -->
<div class="overlay" id="overlay"></div>

<!-- Los estilos y JavaScript permanecen igual -->
<style>
    /* ESTILOS DEL MEN√ö RESPONSIVE */
    .main-nav {
        background: #f8f9fa;
        padding: 15px 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .logo {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: #333;
        z-index: 1002;
    }
    
    .logo-text {
        font-weight: bold;
        line-height: 1.2;
        font-size: 1.2rem;
    }
    
    .logo-subtext {
        font-size: 0.8em;
        line-height: 1.2;
        color: #666;
    }
    
    /* MEN√ö DESKTOP */
    .desktop-menu {
        display: flex;
        gap: 15px;
        align-items: center;
        flex-wrap: wrap;
    }
    
    @media (max-width: 1100px) {
        .desktop-menu {
            gap: 10px;
        }
    }
    
    @media (max-width: 992px) {
        .desktop-menu {
            display: none;
        }
    }
    
    .nav-link {
        text-decoration: none;
        color: #333;
        font-weight: 500;
        transition: color 0.3s;
        white-space: nowrap;
    }
    
    .nav-link:hover {
        color: #007bff;
    }
    
    .nav-link.active {
        color: #007bff;
        font-weight: bold;
    }
    
    /* DROPDOWNS */
    .dropdown {
        position: relative;
    }
    
    .dropdown-toggle {
        display: flex;
        align-items: center;
        cursor: pointer;
    }
    
    .dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        background: white;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        border-radius: 5px;
        min-width: 280px;
        padding: 10px 0;
        display: none;
        z-index: 1001;
    }
    
    .dropdown:hover .dropdown-menu {
        display: block;
    }
    
    .dropdown-item {
        display: block;
        padding: 10px 20px;
        text-decoration: none;
        color: #333;
        border-bottom: 1px solid #f0f0f0;
        transition: background 0.3s;
    }
    
    .dropdown-item:hover {
        background: #f8f9fa;
    }
    
    .dropdown-item:last-child {
        border-bottom: none;
    }
    
    /* BOT√ìN WHATSAPP */
    .whatsapp-btn {
        background: #25D366;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
        display: flex;
        align-items: center;
        transition: background 0.3s;
    }
    
    .whatsapp-btn:hover {
        background: #128C7E;
    }
    
    /* MEN√ö HAMBURGUESA */
    .mobile-menu-toggle {
        display: none;
        flex-direction: column;
        justify-content: space-between;
        width: 30px;
        height: 21px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 1002;
    }
    
    .mobile-menu-toggle span {
        display: block;
        height: 3px;
        width: 100%;
        background: #333;
        border-radius: 3px;
        transition: all 0.3s ease;
    }
    
    .mobile-menu-toggle.active span:nth-child(1) {
        transform: translateY(9px) rotate(45deg);
    }
    
    .mobile-menu-toggle.active span:nth-child(2) {
        opacity: 0;
    }
    
    .mobile-menu-toggle.active span:nth-child(3) {
        transform: translateY(-9px) rotate(-45deg);
    }
    
    @media (max-width: 992px) {
        .mobile-menu-toggle {
            display: flex;
        }
    }
    
    /* MEN√ö M√ìVIL */
    .mobile-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 80%;
        max-width: 400px;
        height: 100vh;
        background: white;
        box-shadow: -5px 0 15px rgba(0,0,0,0.1);
        padding: 80px 20px 20px;
        overflow-y: auto;
        transition: right 0.3s ease;
        z-index: 1001;
    }
    
    .mobile-menu.active {
        right: 0;
    }
    
    .mobile-nav-link {
        display: block;
        padding: 15px 0;
        text-decoration: none;
        color: #333;
        font-weight: 500;
        border-bottom: 1px solid #f0f0f0;
    }
    
    .mobile-dropdown-toggle {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        text-decoration: none;
        color: #333;
        font-weight: 500;
        border-bottom: 1px solid #f0f0f0;
        cursor: pointer;
    }
    
    .mobile-dropdown-menu {
        display: none;
        padding-left: 15px;
    }
    
    .mobile-dropdown-menu.active {
        display: block;
    }
    
    .mobile-dropdown-item {
        display: block;
        padding: 12px 0;
        text-decoration: none;
        color: #666;
        border-bottom: 1px solid #f8f8f8;
    }
    
    .mobile-dropdown-item:last-child {
        border-bottom: none;
    }
    
    .mobile-whatsapp {
        margin-top: 20px;
        text-align: center;
    }
    
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 1000;
    }
    
    .overlay.active {
        opacity: 1;
        visibility: visible;
    }
</style>

<script>
    // Script para el men√∫ m√≥vil
    document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const mobileMenu = document.getElementById('mobileMenu');
        const overlay = document.getElementById('overlay');
        
        // Toggle del men√∫ m√≥vil
        if (mobileMenuToggle) {
            mobileMenuToggle.addEventListener('click', function() {
                this.classList.toggle('active');
                mobileMenu.classList.toggle('active');
                overlay.classList.toggle('active');
                document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
            });
        }
        
        // Cerrar men√∫ al hacer clic en overlay
        if (overlay) {
            overlay.addEventListener('click', function() {
                if (mobileMenuToggle) mobileMenuToggle.classList.remove('active');
                if (mobileMenu) mobileMenu.classList.remove('active');
                this.classList.remove('active');
                document.body.style.overflow = '';
            });
        }
        
        // Dropdowns en m√≥vil
        const mobileDropdownToggles = document.querySelectorAll('.mobile-dropdown-toggle');
        
        mobileDropdownToggles.forEach(toggle => {
            toggle.addEventListener('click', function() {
                const targetId = this.getAttribute('data-target');
                const targetMenu = document.getElementById(targetId);
                
                // Cerrar otros dropdowns abiertos
                document.querySelectorAll('.mobile-dropdown-menu.active').forEach(menu => {
                    if (menu.id !== targetId) {
                        menu.classList.remove('active');
                    }
                });
                
                // Toggle el dropdown actual
                if (targetMenu) {
                    targetMenu.classList.toggle('active');
                    
                    // Rotar la flecha
                    const arrow = this.querySelector('span');
                    if (arrow) {
                        arrow.style.transform = targetMenu.classList.contains('active') ? 'rotate(180deg)' : 'rotate(0)';
                    }
                }
            });
        });
        
        // Cerrar men√∫ al hacer clic en un enlace
        const mobileLinks = document.querySelectorAll('.mobile-nav-link, .mobile-dropdown-item');
        
        mobileLinks.forEach(link => {
            link.addEventListener('click', function() {
                if (mobileMenuToggle) mobileMenuToggle.classList.remove('active');
                if (mobileMenu) mobileMenu.classList.remove('active');
                if (overlay) overlay.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // Resaltar p√°gina activa
        highlightActivePage();
    });

    function highlightActivePage() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link, .dropdown-item, .mobile-dropdown-item');
        
        navLinks.forEach(link => {
            const linkHref = link.getAttribute('href');
            if (linkHref) {
                // Normalizar las URLs para comparaci√≥n
                const normalizedCurrent = currentPath.replace(/\/$/, '');
                const normalizedLink = linkHref.replace(/\/$/, '');
                
                if (normalizedCurrent === normalizedLink || 
                    (normalizedCurrent.includes(normalizedLink) && normalizedLink !== '')) {
                    link.classList.add('active');
                    
                    // Si es un dropdown item, tambi√©n resaltar el padre
                    if (link.classList.contains('dropdown-item') || link.classList.contains('mobile-dropdown-item')) {
                        const dropdownToggle = link.closest('.dropdown')?.querySelector('.dropdown-toggle') || 
                                              link.closest('.mobile-dropdown')?.querySelector('.mobile-dropdown-toggle');
                        if (dropdownToggle) {
                            dropdownToggle.classList.add('active');
                        }
                    }
                }
            }
        });
    }
</script>